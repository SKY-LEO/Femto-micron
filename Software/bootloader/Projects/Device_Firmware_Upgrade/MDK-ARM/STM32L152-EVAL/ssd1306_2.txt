; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\stm32l152-eval\ssd1306_2.o --asm_dir=.\STM32L152-EVAL\ --list_dir=.\STM32L152-EVAL\ --depend=.\stm32l152-eval\ssd1306_2.d --cpu=Cortex-M3 --apcs=interwork -O3 --diag_suppress=9931 -I..\inc -I..\..\..\Libraries\CMSIS\Device\ST\STM32L1xx\Include -I..\..\..\Libraries\STM32_USB-FS-Device_Driver\inc -I..\..\..\Libraries\STM32L1xx_StdPeriph_Driver\inc -I..\..\..\Utilities\STM32_EVAL -I..\..\..\Utilities\STM32_EVAL\Common -I..\..\..\Utilities\STM32_EVAL\STM32L152_EVAL -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Keil_v5\ARM\Inc\ST\STM32L1xx -D__MICROLIB -D__UVISION_VERSION=522 -DUSE_STDPERIPH_DRIVER -DSTM32L1XX_MD -DUSE_STM32L152_EVAL --omf_browse=.\stm32l152-eval\ssd1306_2.crf ..\src\ssd1306_2.c]
                          THUMB

                          AREA ||i.Init_SSD1306||, CODE, READONLY, ALIGN=2

                  Init_SSD1306 PROC
;;;219    
;;;220    void Init_SSD1306()
000000  b510              PUSH     {r4,lr}
;;;221    {
;;;222    
;;;223    	Init_SSD1306_gpios();
000002  f7fffffe          BL       Init_SSD1306_gpios
;;;224    	Initialize_SPI();
;;;225    
;;;226    	GPIO_WriteBit(CS_RST_PORT, CS_Pin, Bit_SET);
000006  4c36              LDR      r4,|L1.224|
000008  2201              MOVS     r2,#1
00000a  2110              MOVS     r1,#0x10
00000c  4620              MOV      r0,r4
00000e  f7fffffe          BL       GPIO_WriteBit
;;;227    	
;;;228    	GPIO_WriteBit(CS_RST_PORT, RST_Pin, Bit_RESET);
000012  2200              MOVS     r2,#0
000014  2108              MOVS     r1,#8
000016  4620              MOV      r0,r4
000018  f7fffffe          BL       GPIO_WriteBit
;;;229    	delay_ms(10);
00001c  200a              MOVS     r0,#0xa
00001e  f7fffffe          BL       delay_ms
;;;230    	GPIO_WriteBit(CS_RST_PORT, RST_Pin, Bit_SET);
000022  2201              MOVS     r2,#1
000024  2108              MOVS     r1,#8
000026  4620              MOV      r0,r4
000028  f7fffffe          BL       GPIO_WriteBit
;;;231    	delay_ms(10);
00002c  200a              MOVS     r0,#0xa
00002e  f7fffffe          BL       delay_ms
;;;232    	
;;;233    	delay_ms(100);
000032  2064              MOVS     r0,#0x64
000034  f7fffffe          BL       delay_ms
;;;234    	
;;;235    	command(SSD1306_DISPLAYOFF);
000038  20ae              MOVS     r0,#0xae
00003a  f7fffffe          BL       command
;;;236    	//Write_Data(0x20);
;;;237    
;;;238        command(0x20); //Set Memory Addressing Mode
00003e  2020              MOVS     r0,#0x20
000040  f7fffffe          BL       command
;;;239        command(0x00); // 00b,Horizontal Addressing Mode; 01b,Vertical Addressing Mode;
000044  2000              MOVS     r0,#0
000046  f7fffffe          BL       command
;;;240                                    // 10b,Page Addressing Mode (RESET); 11b,Invalid
;;;241        command(0xB0); //Set Page Start Address for Page Addressing Mode,0-7
00004a  20b0              MOVS     r0,#0xb0
00004c  f7fffffe          BL       command
;;;242        command(0xC8); //Set COM Output Scan Direction
000050  20c8              MOVS     r0,#0xc8
000052  f7fffffe          BL       command
;;;243        command(0x00); //---set low column address
000056  2000              MOVS     r0,#0
000058  f7fffffe          BL       command
;;;244        command(0x10); //---set high column address
00005c  2010              MOVS     r0,#0x10
00005e  f7fffffe          BL       command
;;;245        command(0x40); //--set start line address - CHECK
000062  2040              MOVS     r0,#0x40
000064  f7fffffe          BL       command
;;;246        command(0xFF);
000068  20ff              MOVS     r0,#0xff
00006a  f7fffffe          BL       command
;;;247        command(0xA1); //--set segment re-map 0 to 127 - CHECK
00006e  20a1              MOVS     r0,#0xa1
000070  f7fffffe          BL       command
;;;248        command(0xA7); //--set inverse color
000074  20a7              MOVS     r0,#0xa7
000076  f7fffffe          BL       command
;;;249        command(0xA8); //--set multiplex ratio(1 to 64) - CHECK
00007a  20a8              MOVS     r0,#0xa8
00007c  f7fffffe          BL       command
;;;250        command(0x1F); //
000080  201f              MOVS     r0,#0x1f
000082  f7fffffe          BL       command
;;;251    
;;;252        command(0xA4); //0xa4,Output follows RAM content;0xa5,Output ignores RAM content
000086  20a4              MOVS     r0,#0xa4
000088  f7fffffe          BL       command
;;;253    
;;;254        command(0xD3); //-set display offset - CHECK
00008c  20d3              MOVS     r0,#0xd3
00008e  f7fffffe          BL       command
;;;255        command(0x00); //-not offset
000092  2000              MOVS     r0,#0
000094  f7fffffe          BL       command
;;;256    
;;;257        command(0xD5); //--set display clock divide ratio/oscillator frequency
000098  20d5              MOVS     r0,#0xd5
00009a  f7fffffe          BL       command
;;;258        command(0xF0); //--set divide ratio
00009e  20f0              MOVS     r0,#0xf0
0000a0  f7fffffe          BL       command
;;;259    
;;;260        command(0xD9); //--set pre-charge period
0000a4  20d9              MOVS     r0,#0xd9
0000a6  f7fffffe          BL       command
;;;261        command(0x22); //
0000aa  2022              MOVS     r0,#0x22
0000ac  f7fffffe          BL       command
;;;262    
;;;263        command(0xDA); //--set com pins hardware configuration - CHECK
0000b0  20da              MOVS     r0,#0xda
0000b2  f7fffffe          BL       command
;;;264        command(0x02);
0000b6  2002              MOVS     r0,#2
0000b8  f7fffffe          BL       command
;;;265    
;;;266    
;;;267        command(0xDB); //--set vcomh
0000bc  20db              MOVS     r0,#0xdb
0000be  f7fffffe          BL       command
;;;268        command(0x20); //0x20,0.77xVcc
0000c2  2020              MOVS     r0,#0x20
0000c4  f7fffffe          BL       command
;;;269    
;;;270        command(0x8D); //--set DC-DC enable
0000c8  208d              MOVS     r0,#0x8d
0000ca  f7fffffe          BL       command
;;;271        command(0x14); //
0000ce  2014              MOVS     r0,#0x14
0000d0  f7fffffe          BL       command
;;;272    		command(SSD1306_DISPLAYON);
0000d4  e8bd4010          POP      {r4,lr}
0000d8  20af              MOVS     r0,#0xaf
0000da  f7ffbffe          B.W      command
;;;273    
;;;274    	/*command(SSD1306_DISPLAYOFF);
;;;275    	command(SSD1306_SETDISPLAYCLOCKDIV);
;;;276    	command(0x80);                                  // the suggested ratio 0x80
;;;277    
;;;278    	command(SSD1306_SETMULTIPLEX);
;;;279    	command(0x3F);
;;;280    
;;;281    	command(SSD1306_SETDISPLAYOFFSET);
;;;282    	command(0x0);                                   // no offset
;;;283    
;;;284    	command(SSD1306_SETSTARTLINE | 0x0);            // line #0
;;;285    
;;;286    	command(SSD1306_CHARGEPUMP);
;;;287    	command(0x10);
;;;288    
;;;289    	command(SSD1306_MEMORYMODE);
;;;290    	command(0x00);
;;;291    
;;;292    	command(SSD1306_SEGREMAP | 0x1);
;;;293    
;;;294    	command(SSD1306_COMSCANDEC);
;;;295    
;;;296    	command(SSD1306_SETCOMPINS);
;;;297    	command(0x12);
;;;298    
;;;299    	command(SSD1306_SETCONTRAST);
;;;300    	command(0x9F);
;;;301    
;;;302    	command(SSD1306_SETPRECHARGE);
;;;303    	command(0x22);
;;;304    
;;;305    	command(SSD1306_SETVCOMDETECT);
;;;306    	command(0x40);
;;;307    
;;;308    	command(SSD1306_DISPLAYALLON_RESUME);
;;;309    
;;;310    	command(SSD1306_NORMALDISPLAY);
;;;311    
;;;312    	command(SSD1306_DISPLAYON);*/
;;;313    
;;;314    }
;;;315    
                          ENDP

0000de  0000              DCW      0x0000
                  |L1.224|
                          DCD      0x40020000

                          AREA ||i.Init_SSD1306_gpios||, CODE, READONLY, ALIGN=2

                  Init_SSD1306_gpios PROC
;;;55     
;;;56     void Init_SSD1306_gpios()
000000  b5f0              PUSH     {r4-r7,lr}
;;;57     {
;;;58     	GPIO_InitTypeDef GPIO_InitStructure;
;;;59     SPI_InitTypeDef SPI_InitStructure;
;;;60     	
;;;61     	
;;;62     	RCC_AHBPeriphClockCmd(RCC_AHBPeriph_GPIOA, ENABLE);
000002  2101              MOVS     r1,#1
000004  b087              SUB      sp,sp,#0x1c           ;57
000006  4608              MOV      r0,r1
000008  f7fffffe          BL       RCC_AHBPeriphClockCmd
;;;63     	
;;;64     	delay_ms(10);
00000c  200a              MOVS     r0,#0xa
00000e  f7fffffe          BL       delay_ms
;;;65     	
;;;66     	RCC_APB2PeriphClockCmd(RCC_APB2Periph_SPI1, ENABLE);
000012  2101              MOVS     r1,#1
000014  0308              LSLS     r0,r1,#12
000016  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;67     	delay_ms(10);
00001a  200a              MOVS     r0,#0xa
00001c  f7fffffe          BL       delay_ms
;;;68     	
;;;69     	GPIO_PinAFConfig(GPIOA, GPIO_PinSource5, GPIO_AF_SPI1), 
000020  4f34              LDR      r7,|L2.244|
000022  2205              MOVS     r2,#5
000024  4611              MOV      r1,r2
000026  4638              MOV      r0,r7
000028  f7fffffe          BL       GPIO_PinAFConfig
;;;70     	//GPIO_PinAFConfig(GPIOA, GPIO_PinSource6, GPIO_AF_SPI1), 
;;;71     	GPIO_PinAFConfig(GPIOA, GPIO_PinSource7, GPIO_AF_SPI1), 
00002c  2205              MOVS     r2,#5
00002e  2107              MOVS     r1,#7
000030  4638              MOV      r0,r7
000032  f7fffffe          BL       GPIO_PinAFConfig
;;;72     	
;;;73     	GPIO_InitStructure.GPIO_Pin = SCK_Pin | MOSI_Pin;
000036  20a0              MOVS     r0,#0xa0
;;;74     	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
000038  9000              STR      r0,[sp,#0]
00003a  2002              MOVS     r0,#2
00003c  f88d0004          STRB     r0,[sp,#4]
;;;75     	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_40MHz;
000040  2503              MOVS     r5,#3
000042  f88d5005          STRB     r5,[sp,#5]
;;;76     	//GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
;;;77     	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
000046  2400              MOVS     r4,#0
000048  f88d4006          STRB     r4,[sp,#6]
;;;78     	GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_NOPULL;
00004c  f88d4007          STRB     r4,[sp,#7]
;;;79     	GPIO_Init(GPIOA, &GPIO_InitStructure);
000050  4669              MOV      r1,sp
000052  4638              MOV      r0,r7
000054  f7fffffe          BL       GPIO_Init
;;;80     
;;;81     	//	GPIO_WriteBit(SCK_MOSI_PORT, SCK_Pin, Bit_SET);
;;;82     	//	GPIO_WriteBit(SCK_MOSI_PORT, MOSI_Pin, Bit_SET);
;;;83     	//	GPIO_WriteBit(SCK_MOSI_PORT, MISO_Pin, Bit_SET);
;;;84     
;;;85     	GPIO_InitStructure.GPIO_Pin = RST_Pin;
;;;86     	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
000058  2601              MOVS     r6,#1
00005a  f88d6004          STRB     r6,[sp,#4]
00005e  2008              MOVS     r0,#8                 ;85
;;;87     	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
000060  f88d4006          STRB     r4,[sp,#6]
000064  9000              STR      r0,[sp,#0]            ;86
;;;88     	GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_NOPULL;
000066  f88d4007          STRB     r4,[sp,#7]
;;;89     	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_40MHz;
00006a  f88d5005          STRB     r5,[sp,#5]
;;;90     	//GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
;;;91     
;;;92     	GPIO_Init(CS_RST_PORT, &GPIO_InitStructure);
00006e  4669              MOV      r1,sp
000070  4638              MOV      r0,r7
000072  f7fffffe          BL       GPIO_Init
;;;93     	
;;;94     	GPIO_InitStructure.GPIO_Pin = CS_Pin;
;;;95     	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
000076  f88d6004          STRB     r6,[sp,#4]
00007a  2010              MOVS     r0,#0x10              ;94
;;;96     	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
00007c  f88d4006          STRB     r4,[sp,#6]
000080  9000              STR      r0,[sp,#0]            ;95
;;;97     	GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_UP;
000082  f88d6007          STRB     r6,[sp,#7]
;;;98     	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_40MHz;
000086  f88d5005          STRB     r5,[sp,#5]
;;;99     	//GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
;;;100    
;;;101    	GPIO_Init(CS_RST_PORT, &GPIO_InitStructure);
00008a  4669              MOV      r1,sp
00008c  4638              MOV      r0,r7
00008e  f7fffffe          BL       GPIO_Init
;;;102    
;;;103    	//	GPIO_WriteBit(CS_RST_PORT, RST_Pin,Bit_SET);
;;;104    	//	GPIO_WriteBit(CS_RST_PORT, CS_Pin, Bit_SET);
;;;105    
;;;106    	GPIO_InitStructure.GPIO_Pin = VDD_Pin | DC_Pin;
;;;107    	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_40MHz;
000092  f88d5005          STRB     r5,[sp,#5]
000096  2006              MOVS     r0,#6                 ;106
;;;108    	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
000098  f88d6004          STRB     r6,[sp,#4]
00009c  9000              STR      r0,[sp,#0]            ;107
;;;109    	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
00009e  f88d4006          STRB     r4,[sp,#6]
;;;110    	GPIO_InitStructure.GPIO_PuPd  = GPIO_PuPd_NOPULL;
0000a2  f88d4007          STRB     r4,[sp,#7]
;;;111    	//GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
;;;112    	GPIO_Init(VDD_DC_PORT, &GPIO_InitStructure);
0000a6  4669              MOV      r1,sp
0000a8  4638              MOV      r0,r7
0000aa  f7fffffe          BL       GPIO_Init
;;;113    	
;;;114    	
;;;115    	
;;;116    	
;;;117    	SPI_InitStructure.SPI_Direction = SPI_Direction_2Lines_FullDuplex;
0000ae  f8ad4008          STRH     r4,[sp,#8]
;;;118    	//SPI_InitStructure.SPI_Direction = SPI_Direction_1Line_Tx;
;;;119    	// указываем, что наше устройство - Master
;;;120    	SPI_InitStructure.SPI_Mode = SPI_Mode_Master;
0000b2  f44f7082          MOV      r0,#0x104
0000b6  f8ad000a          STRH     r0,[sp,#0xa]
;;;121    	// передавать будем по 8 бит (=1 байт)
;;;122    	SPI_InitStructure.SPI_DataSize = SPI_DataSize_8b;
;;;123    	// режим 00
;;;124    	SPI_InitStructure.SPI_CPOL = SPI_CPOL_Low;
;;;125    	SPI_InitStructure.SPI_CPHA = SPI_CPHA_1Edge;
0000ba  f8ad4010          STRH     r4,[sp,#0x10]
;;;126    	SPI_InitStructure.SPI_NSS = SPI_NSS_Soft | SPI_NSSInternalSoft_Set;//SPI_NSS_Soft;
0000be  0228              LSLS     r0,r5,#8
0000c0  f8ad0012          STRH     r0,[sp,#0x12]
;;;127    	SPI_InitStructure.SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_16;
0000c4  2018              MOVS     r0,#0x18
0000c6  f8ad0014          STRH     r0,[sp,#0x14]
0000ca  f8ad400c          STRH     r4,[sp,#0xc]          ;122
0000ce  f8ad400e          STRH     r4,[sp,#0xe]          ;124
;;;128    	// передаём данные старшим битом вперёд (т.е. слева направо)
;;;129    	SPI_InitStructure.SPI_FirstBit = SPI_FirstBit_MSB;
0000d2  f8ad4016          STRH     r4,[sp,#0x16]
;;;130    	SPI_InitStructure.SPI_CRCPolynomial = 7;
0000d6  2007              MOVS     r0,#7
;;;131    	// внесём настройки в SPI
;;;132    	//SPI_NSSInternalSoftwareConfig(SPI1, SPI_NSSInternalSoft_Set);
;;;133    	SPI_Init(SPI1, &SPI_InitStructure);
0000d8  4c07              LDR      r4,|L2.248|
0000da  f8ad0018          STRH     r0,[sp,#0x18]         ;130
0000de  a902              ADD      r1,sp,#8
0000e0  4620              MOV      r0,r4
0000e2  f7fffffe          BL       SPI_Init
;;;134    	// включим  SPI1
;;;135    	SPI_Cmd(SPI1, ENABLE);
0000e6  2101              MOVS     r1,#1
0000e8  4620              MOV      r0,r4
0000ea  f7fffffe          BL       SPI_Cmd
;;;136    	/*GPIO_SetBits(GPIOA, GPIO_Pin_4);
;;;137    	SPI1->CR1=0x354;
;;;138    	SPI1->CR2=0x0;
;;;139    	//SPI1->SR=0x2;
;;;140    	//SPI1->DR=0x0;
;;;141    	SPI1->CRCPR=0x7;
;;;142    	//	GPIO_WriteBit(VDD_DC_PORT, VDD_Pin, Bit_SET);
;;;143    	//	GPIO_WriteBit(VDD_DC_PORT, DC_Pin, Bit_SET);
;;;144    	GPIOA->ODR |= GPIO_OTYPER_ODR_4;*/
;;;145    }
0000ee  b007              ADD      sp,sp,#0x1c
0000f0  bdf0              POP      {r4-r7,pc}
;;;146    
                          ENDP

0000f2  0000              DCW      0x0000
                  |L2.244|
                          DCD      0x40020000
                  |L2.248|
                          DCD      0x40013000

                          AREA ||i.Initialize_SPI||, CODE, READONLY, ALIGN=1

                  Initialize_SPI PROC
;;;146    
;;;147    void Initialize_SPI() {
000000  4770              BX       lr
;;;148    	/*SPI_InitTypeDef SPI_InitStructure;
;;;149    	RCC_APB2PeriphClockCmd(RCC_APB2Periph_SPI1, ENABLE);
;;;150    	delay_ms(10);
;;;151    	
;;;152    	SPI_InitStructure.SPI_Direction = SPI_Direction_2Lines_FullDuplex;
;;;153    	// указываем, что наше устройство - Master
;;;154    	SPI_InitStructure.SPI_Mode = SPI_Mode_Master;
;;;155    	// передавать будем по 8 бит (=1 байт)
;;;156    	SPI_InitStructure.SPI_DataSize = SPI_DataSize_8b;
;;;157    	// режим 00
;;;158    	SPI_InitStructure.SPI_CPOL = SPI_CPOL_Low;
;;;159    	SPI_InitStructure.SPI_CPHA = SPI_CPHA_1Edge;
;;;160    	SPI_InitStructure.SPI_NSS = SPI_NSS_Soft;
;;;161    	SPI_InitStructure.SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_256;
;;;162    	// передаём данные старшим битом вперёд (т.е. слева направо)
;;;163    	SPI_InitStructure.SPI_FirstBit = SPI_FirstBit_MSB;
;;;164    	SPI_InitStructure.SPI_CRCPolynomial = 7;
;;;165    	// внесём настройки в SPI
;;;166    	SPI_Init(SPI1, &SPI_InitStructure);
;;;167    	// включим  SPI1
;;;168    	SPI_Cmd(SPI1, ENABLE);*/
;;;169    	// SS = 1
;;;170    //    SPI_NSSInternalSoftwareConfig(SPI1, SPI_NSSInternalSoft_Set);
;;;171    }
;;;172    
                          ENDP


                          AREA ||i.UpdateScreen||, CODE, READONLY, ALIGN=2

                  UpdateScreen PROC
;;;316    /* Write the screenbuffer with changed to the screen */
;;;317    void UpdateScreen(void) {
000000  b570              PUSH     {r4-r6,lr}
;;;318    	uint8_t i = 0;
;;;319        // Write data to each page of RAM. Number of pages
;;;320        // depends on the screen height:
;;;321        //
;;;322        //  * 32px   ==  4 pages
;;;323        //  * 64px   ==  8 pages
;;;324        //  * 128px  ==  16 pages
;;;325        for(i = 0; i < 64/8; i++) {
;;;326            command(0xB0 + i); // Set the current RAM page address.
;;;327            command(0x00);
;;;328            command(0x10);
;;;329            Write_Data(buffer[i]);
000002  4d0b              LDR      r5,|L4.48|
000004  2400              MOVS     r4,#0                 ;318
000006  bf00              NOP                            ;326
                  |L4.8|
000008  f10400b0          ADD      r0,r4,#0xb0           ;326
00000c  b2c0              UXTB     r0,r0                 ;326
00000e  f7fffffe          BL       command
000012  2000              MOVS     r0,#0                 ;327
000014  f7fffffe          BL       command
000018  2010              MOVS     r0,#0x10              ;328
00001a  f7fffffe          BL       command
00001e  5d28              LDRB     r0,[r5,r4]
000020  f7fffffe          BL       Write_Data
000024  1c64              ADDS     r4,r4,#1
000026  b2e4              UXTB     r4,r4                 ;325
000028  2c08              CMP      r4,#8                 ;325
00002a  d3ed              BCC      |L4.8|
;;;330        }
;;;331    }
00002c  bd70              POP      {r4-r6,pc}
                          ENDP

00002e  0000              DCW      0x0000
                  |L4.48|
                          DCD      ||.data||

                          AREA ||i.Write_Data||, CODE, READONLY, ALIGN=2

                  Write_Data PROC
;;;194    
;;;195    void Write_Data(uint8_t data)
000000  b570              PUSH     {r4-r6,lr}
;;;196    {
;;;197    	GPIO_WriteBit(CS_RST_PORT, CS_Pin, Bit_RESET);
000002  4c0f              LDR      r4,|L5.64|
000004  4605              MOV      r5,r0                 ;196
000006  2200              MOVS     r2,#0
000008  2110              MOVS     r1,#0x10
00000a  4620              MOV      r0,r4
00000c  f7fffffe          BL       GPIO_WriteBit
;;;198    	GPIO_WriteBit(VDD_DC_PORT, DC_Pin, Bit_SET);
000010  2201              MOVS     r2,#1
000012  2104              MOVS     r1,#4
000014  4620              MOV      r0,r4
000016  f7fffffe          BL       GPIO_WriteBit
;;;199    
;;;200    	//while(SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_TXE) == RESET)
;;;201      //{
;;;202      //}
;;;203      
;;;204      /*!< Send the byte */
;;;205      //SPI_I2S_SendData(SD_SPI, Data);
;;;206    	//while(!(SPI1->SR & SPI_SR_TXE));
;;;207    	//SPI1->DR=data;
;;;208      //while (!(SPI1->SR & SPI_SR_TXE)); 
;;;209      SPI_I2S_SendData(SPI1, data);
00001a  4629              MOV      r1,r5
00001c  4d09              LDR      r5,|L5.68|
00001e  4628              MOV      r0,r5
000020  f7fffffe          BL       SPI_I2S_SendData
                  |L5.36|
;;;210    	while (SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_BSY) == SET);
000024  2180              MOVS     r1,#0x80
000026  4628              MOV      r0,r5
000028  f7fffffe          BL       SPI_I2S_GetFlagStatus
00002c  2801              CMP      r0,#1
00002e  d0f9              BEQ      |L5.36|
;;;211    	//while (!(SPI1->SR & SPI_SR_TXE)); 
;;;212      /*!< Wait to receive a byte*/
;;;213    	//SPI_I2S_SendData(SPI1, data);
;;;214    	//while (SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_BSY) == SET);
;;;215    	//while(SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_BSY) == RESET);
;;;216    	//while (SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_TXE) == RESET); // ждём, пока данные не отправятся
;;;217    	GPIO_WriteBit(CS_RST_PORT, CS_Pin, Bit_SET);
000030  4620              MOV      r0,r4
000032  e8bd4070          POP      {r4-r6,lr}
000036  2201              MOVS     r2,#1
000038  2110              MOVS     r1,#0x10
00003a  f7ffbffe          B.W      GPIO_WriteBit
;;;218    };
;;;219    
                          ENDP

00003e  0000              DCW      0x0000
                  |L5.64|
                          DCD      0x40020000
                  |L5.68|
                          DCD      0x40013000

                          AREA ||i.command||, CODE, READONLY, ALIGN=2

                  command PROC
;;;172    
;;;173    void command(uint8_t data)
000000  b570              PUSH     {r4-r6,lr}
;;;174    {
;;;175    	GPIO_WriteBit(CS_RST_PORT, CS_Pin, Bit_RESET);
000002  4c0f              LDR      r4,|L6.64|
000004  4605              MOV      r5,r0                 ;174
000006  2200              MOVS     r2,#0
000008  2110              MOVS     r1,#0x10
00000a  4620              MOV      r0,r4
00000c  f7fffffe          BL       GPIO_WriteBit
;;;176    	GPIO_WriteBit(VDD_DC_PORT, DC_Pin, Bit_RESET);
000010  2200              MOVS     r2,#0
000012  2104              MOVS     r1,#4
000014  4620              MOV      r0,r4
000016  f7fffffe          BL       GPIO_WriteBit
;;;177    	
;;;178    	//while(SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_TXE) == RESET)
;;;179      //{
;;;180      //}
;;;181      
;;;182      /*!< Send the byte */
;;;183      //SPI_I2S_SendData(SD_SPI, Data);
;;;184    	//while(!(SPI1->SR & SPI_SR_TXE));
;;;185    	//SPI1->DR=data;
;;;186      //while (!(SPI1->SR & SPI_SR_TXE)); 
;;;187      SPI_I2S_SendData(SPI1, data);
00001a  4629              MOV      r1,r5
00001c  4d09              LDR      r5,|L6.68|
00001e  4628              MOV      r0,r5
000020  f7fffffe          BL       SPI_I2S_SendData
                  |L6.36|
;;;188    	while (SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_BSY) == SET);
000024  2180              MOVS     r1,#0x80
000026  4628              MOV      r0,r5
000028  f7fffffe          BL       SPI_I2S_GetFlagStatus
00002c  2801              CMP      r0,#1
00002e  d0f9              BEQ      |L6.36|
;;;189      /*!< Wait to receive a byte*/
;;;190    	//while (SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_TXE) == RESET); // ждём, пока данные не отправятся
;;;191    	//while (SPI_I2S_GetFlagStatus(SPI1, SPI_I2S_FLAG_BSY) == SET);
;;;192    	GPIO_WriteBit(CS_RST_PORT, CS_Pin, Bit_SET);
000030  4620              MOV      r0,r4
000032  e8bd4070          POP      {r4-r6,lr}
000036  2201              MOVS     r2,#1
000038  2110              MOVS     r1,#0x10
00003a  f7ffbffe          B.W      GPIO_WriteBit
;;;193    };
;;;194    
                          ENDP

00003e  0000              DCW      0x0000
                  |L6.64|
                          DCD      0x40020000
                  |L6.68|
                          DCD      0x40013000

                          AREA ||.data||, DATA, ALIGN=0

                  buffer
000000  00000000          DCB      0x00,0x00,0x00,0x00
000004  00000000          DCB      0x00,0x00,0x00,0x00
000008  00000000          DCB      0x00,0x00,0x00,0x00
00000c  00000000          DCB      0x00,0x00,0x00,0x00
000010  00000000          DCB      0x00,0x00,0x00,0x00
000014  00000000          DCB      0x00,0x00,0x00,0x00
000018  00000000          DCB      0x00,0x00,0x00,0x00
00001c  00000000          DCB      0x00,0x00,0x00,0x00
000020  00000000          DCB      0x00,0x00,0x00,0x00
000024  00000000          DCB      0x00,0x00,0x00,0x00
000028  00000000          DCB      0x00,0x00,0x00,0x00
00002c  00000000          DCB      0x00,0x00,0x00,0x00
000030  00000000          DCB      0x00,0x00,0x00,0x00
000034  00000000          DCB      0x00,0x00,0x00,0x00
000038  00000000          DCB      0x00,0x00,0x00,0x00
00003c  00000080          DCB      0x00,0x00,0x00,0x80
000040  80800000          DCB      0x80,0x80,0x00,0x00
000044  00000000          DCB      0x00,0x00,0x00,0x00
000048  00000000          DCB      0x00,0x00,0x00,0x00
00004c  00000000          DCB      0x00,0x00,0x00,0x00
000050  008080c0          DCB      0x00,0x80,0x80,0xc0
000054  c0000000          DCB      0xc0,0x00,0x00,0x00
000058  00000000          DCB      0x00,0x00,0x00,0x00
00005c  00000000          DCB      0x00,0x00,0x00,0x00
000060  00000000          DCB      0x00,0x00,0x00,0x00
000064  00000000          DCB      0x00,0x00,0x00,0x00
000068  00000000          DCB      0x00,0x00,0x00,0x00
00006c  00000000          DCB      0x00,0x00,0x00,0x00
000070  00000000          DCB      0x00,0x00,0x00,0x00
000074  00000000          DCB      0x00,0x00,0x00,0x00
000078  00000000          DCB      0x00,0x00,0x00,0x00
00007c  00000000          DCB      0x00,0x00,0x00,0x00
000080  00000000          DCB      0x00,0x00,0x00,0x00
000084  00000000          DCB      0x00,0x00,0x00,0x00
000088  00000000          DCB      0x00,0x00,0x00,0x00
00008c  00000000          DCB      0x00,0x00,0x00,0x00
000090  00000000          DCB      0x00,0x00,0x00,0x00
000094  80c0e0f0          DCB      0x80,0xc0,0xe0,0xf0
000098  f8fcf8e0          DCB      0xf8,0xfc,0xf8,0xe0
00009c  00000000          DCB      0x00,0x00,0x00,0x00
0000a0  00000000          DCB      0x00,0x00,0x00,0x00
0000a4  00000000          DCB      0x00,0x00,0x00,0x00
0000a8  00000000          DCB      0x00,0x00,0x00,0x00
0000ac  00808080          DCB      0x00,0x80,0x80,0x80
0000b0  80800080          DCB      0x80,0x80,0x00,0x80
0000b4  80000000          DCB      0x80,0x00,0x00,0x00
0000b8  00808080          DCB      0x00,0x80,0x80,0x80
0000bc  808000ff          DCB      0x80,0x80,0x00,0xff
0000c0  00000080          DCB      0x00,0x00,0x00,0x80
0000c4  c0e0f0f9          DCB      0xc0,0xe0,0xf0,0xf9
0000c8  ffffffff          DCB      0xff,0xff,0xff,0xff
0000cc  ff3f1f0f          DCB      0xff,0x3f,0x1f,0x0f
0000d0  87c7f7ff          DCB      0x87,0xc7,0xf7,0xff
0000d4  ff1f1f3d          DCB      0xff,0x1f,0x1f,0x3d
0000d8  fcf8f8f8          DCB      0xfc,0xf8,0xf8,0xf8
0000dc  f87c7dff          DCB      0xf8,0x7c,0x7d,0xff
0000e0  ffffffff          DCB      0xff,0xff,0xff,0xff
0000e4  ffffff7f          DCB      0xff,0xff,0xff,0x7f
0000e8  3f0f0700          DCB      0x3f,0x0f,0x07,0x00
0000ec  30300000          DCB      0x30,0x30,0x00,0x00
0000f0  00000000          DCB      0x00,0x00,0x00,0x00
0000f4  00000000          DCB      0x00,0x00,0x00,0x00
0000f8  00000000          DCB      0x00,0x00,0x00,0x00
0000fc  00000000          DCB      0x00,0x00,0x00,0x00
000100  00000000          DCB      0x00,0x00,0x00,0x00
000104  fefefc00          DCB      0xfe,0xfe,0xfc,0x00
000108  00000000          DCB      0x00,0x00,0x00,0x00
00010c  00000000          DCB      0x00,0x00,0x00,0x00
000110  00000000          DCB      0x00,0x00,0x00,0x00
000114  00000000          DCB      0x00,0x00,0x00,0x00
000118  00000000          DCB      0x00,0x00,0x00,0x00
00011c  00e0c000          DCB      0x00,0xe0,0xc0,0x00
000120  00000000          DCB      0x00,0x00,0x00,0x00
000124  00000000          DCB      0x00,0x00,0x00,0x00
000128  00003030          DCB      0x00,0x00,0x30,0x30
00012c  00000000          DCB      0x00,0x00,0x00,0x00
000130  00000000          DCB      0x00,0x00,0x00,0x00
000134  00000000          DCB      0x00,0x00,0x00,0x00
000138  00000000          DCB      0x00,0x00,0x00,0x00
00013c  00000000          DCB      0x00,0x00,0x00,0x00
000140  00c0feff          DCB      0x00,0xc0,0xfe,0xff
000144  ffffffff          DCB      0xff,0xff,0xff,0xff
000148  ffffffff          DCB      0xff,0xff,0xff,0xff
00014c  7f7f3f1f          DCB      0x7f,0x7f,0x3f,0x1f
000150  0f071f7f          DCB      0x0f,0x07,0x1f,0x7f
000154  fffff8f8          DCB      0xff,0xff,0xf8,0xf8
000158  ffffffff          DCB      0xff,0xff,0xff,0xff
00015c  fffef8e0          DCB      0xff,0xfe,0xf8,0xe0
000160  00000001          DCB      0x00,0x00,0x00,0x01
000164  00000000          DCB      0x00,0x00,0x00,0x00
000168  00000000          DCB      0x00,0x00,0x00,0x00
00016c  fefe0000          DCB      0xfe,0xfe,0x00,0x00
000170  00fcfefc          DCB      0x00,0xfc,0xfe,0xfc
000174  0c06060e          DCB      0x0c,0x06,0x06,0x0e
000178  fcf80000          DCB      0xfc,0xf8,0x00,0x00
00017c  f0f81c0e          DCB      0xf0,0xf8,0x1c,0x0e
000180  0606060c          DCB      0x06,0x06,0x06,0x0c
000184  ffffff00          DCB      0xff,0xff,0xff,0x00
000188  00fefe00          DCB      0x00,0xfe,0xfe,0x00
00018c  000000fc          DCB      0x00,0x00,0x00,0xfc
000190  fefc0018          DCB      0xfe,0xfc,0x00,0x18
000194  3c7e66e6          DCB      0x3c,0x7e,0x66,0xe6
000198  ce840000          DCB      0xce,0x84,0x00,0x00
00019c  06ffff06          DCB      0x06,0xff,0xff,0x06
0001a0  06fcfefc          DCB      0x06,0xfc,0xfe,0xfc
0001a4  0c060606          DCB      0x0c,0x06,0x06,0x06
0001a8  0000fefe          DCB      0x00,0x00,0xfe,0xfe
0001ac  0000c0f8          DCB      0x00,0x00,0xc0,0xf8
0001b0  fc4e4646          DCB      0xfc,0x4e,0x46,0x46
0001b4  464e7c78          DCB      0x46,0x4e,0x7c,0x78
0001b8  40183c76          DCB      0x40,0x18,0x3c,0x76
0001bc  e6cecc80          DCB      0xe6,0xce,0xcc,0x80
0001c0  00000000          DCB      0x00,0x00,0x00,0x00
0001c4  00000000          DCB      0x00,0x00,0x00,0x00
0001c8  00000000          DCB      0x00,0x00,0x00,0x00
0001cc  00000000          DCB      0x00,0x00,0x00,0x00
0001d0  00000000          DCB      0x00,0x00,0x00,0x00
0001d4  01070f1f          DCB      0x01,0x07,0x0f,0x1f
0001d8  1f3f3f3f          DCB      0x1f,0x3f,0x3f,0x3f
0001dc  3f1f0f03          DCB      0x3f,0x1f,0x0f,0x03
0001e0  00000000          DCB      0x00,0x00,0x00,0x00
0001e4  00000000          DCB      0x00,0x00,0x00,0x00
0001e8  00000000          DCB      0x00,0x00,0x00,0x00
0001ec  0f0f0000          DCB      0x0f,0x0f,0x00,0x00
0001f0  000f0f0f          DCB      0x00,0x0f,0x0f,0x0f
0001f4  00000000          DCB      0x00,0x00,0x00,0x00
0001f8  0f0f0000          DCB      0x0f,0x0f,0x00,0x00
0001fc  03070e0c          DCB      0x03,0x07,0x0e,0x0c
000200  18180c06          DCB      0x18,0x18,0x0c,0x06
000204  0f0f0f00          DCB      0x0f,0x0f,0x0f,0x00
000208  00010f0e          DCB      0x00,0x01,0x0f,0x0e
00020c  0c180c0f          DCB      0x0c,0x18,0x0c,0x0f
000210  07010004          DCB      0x07,0x01,0x00,0x04
000214  0e0c180c          DCB      0x0e,0x0c,0x18,0x0c
000218  0f070000          DCB      0x0f,0x07,0x00,0x00
00021c  000f0f00          DCB      0x00,0x0f,0x0f,0x00
000220  000f0f0f          DCB      0x00,0x0f,0x0f,0x0f
000224  00000000          DCB      0x00,0x00,0x00,0x00
000228  00000f0f          DCB      0x00,0x00,0x0f,0x0f
00022c  00000007          DCB      0x00,0x00,0x00,0x07
000230  070c0c18          DCB      0x07,0x0c,0x0c,0x18
000234  1c0c0606          DCB      0x1c,0x0c,0x06,0x06
000238  00040e0c          DCB      0x00,0x04,0x0e,0x0c
00023c  180c0f07          DCB      0x18,0x0c,0x0f,0x07
000240  00000000          DCB      0x00,0x00,0x00,0x00
000244  00000000          DCB      0x00,0x00,0x00,0x00
000248  00000000          DCB      0x00,0x00,0x00,0x00
00024c  00000000          DCB      0x00,0x00,0x00,0x00
000250  00000000          DCB      0x00,0x00,0x00,0x00
000254  00000000          DCB      0x00,0x00,0x00,0x00
000258  00000000          DCB      0x00,0x00,0x00,0x00
00025c  00000000          DCB      0x00,0x00,0x00,0x00
000260  00000000          DCB      0x00,0x00,0x00,0x00
000264  00000000          DCB      0x00,0x00,0x00,0x00
000268  00000000          DCB      0x00,0x00,0x00,0x00
00026c  00000000          DCB      0x00,0x00,0x00,0x00
000270  00000000          DCB      0x00,0x00,0x00,0x00
000274  00000000          DCB      0x00,0x00,0x00,0x00
000278  00000000          DCB      0x00,0x00,0x00,0x00
00027c  00000000          DCB      0x00,0x00,0x00,0x00
000280  00000000          DCB      0x00,0x00,0x00,0x00
000284  00000000          DCB      0x00,0x00,0x00,0x00
000288  00000000          DCB      0x00,0x00,0x00,0x00
00028c  00000000          DCB      0x00,0x00,0x00,0x00
000290  00000000          DCB      0x00,0x00,0x00,0x00
000294  00000000          DCB      0x00,0x00,0x00,0x00
000298  00000000          DCB      0x00,0x00,0x00,0x00
00029c  00000000          DCB      0x00,0x00,0x00,0x00
0002a0  00000000          DCB      0x00,0x00,0x00,0x00
0002a4  00000000          DCB      0x00,0x00,0x00,0x00
0002a8  00000000          DCB      0x00,0x00,0x00,0x00
0002ac  00000000          DCB      0x00,0x00,0x00,0x00
0002b0  00000000          DCB      0x00,0x00,0x00,0x00
0002b4  00000000          DCB      0x00,0x00,0x00,0x00
0002b8  00000000          DCB      0x00,0x00,0x00,0x00
0002bc  00000000          DCB      0x00,0x00,0x00,0x00
                          %        320

                          AREA ||area_number.10||, DATA, ALIGN=0

                          EXPORTAS ||area_number.10||, ||.data||
                  Dummy
000000  00                DCB      0x00

;*** Start embedded assembler ***

#line 1 "..\\src\\ssd1306_2.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___11_ssd1306_2_c_988c322d____REV16|
#line 129 "C:\\Keil_v5\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___11_ssd1306_2_c_988c322d____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___11_ssd1306_2_c_988c322d____REVSH|
#line 144
|__asm___11_ssd1306_2_c_988c322d____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
